name: Daily Note Generator
on:
  schedule:
    - cron: '0 20 * * *'  # æ¯å¤©UTCæ—¶é—´20:00ï¼ˆåŒ—äº¬æ—¶é—´æ¬¡æ—¥4:00ï¼‰è¿è¡Œ
  workflow_dispatch:      # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Create note
      run: |
        DATE=$(date -d '+8 hours' +'%Y-%m-%d')  # åŒ—äº¬æ—¶é—´è°ƒæ•´
        mkdir -p daily-notes
        FILE="daily-notes/$DATE.md"
        
        if [ ! -f "$FILE" ]; then
          echo "# $DATE å­¦ä¹ æ—¥å¿—" > $FILE
          echo "## ğŸŒŸ ä»Šæ—¥ç›®æ ‡" >> $FILE
          echo "- [ ] " >> $FILE
          echo "## ğŸ“ å­¦ä¹ è®°å½•" >> $FILE
          echo "## ğŸ’¡ å°æ™ºé‡‘å¥" >> $FILE
          echo "> " >> $FILE
        fi
        
        git config --global user.name "Automation Bot"
        git config --global user.email "actions@github.com"
        git add .
        git commit -m "è‡ªåŠ¨ç”Ÿæˆ $DATE å­¦ä¹ æ—¥å¿—"
        git push
